{"version":3,"sources":["context/Package.js","components/Search.jsx","components/OnePackageDependencies.jsx","utils/urls.js","components/PackageDependencies.jsx","pages/Homepage.jsx","App.js","reportWebVitals.js","index.js"],"names":["PackageContext","createContext","PackageContextProvider","children","useState","packageContextValue","name","setName","Provider","value","Search","packageContext","useContext","packageName","setPackageName","handleSearch","event","preventDefault","trimmedPackageName","trim","Paper","elevation","noValidate","className","onSubmit","TextField","label","onChange","target","variant","margin","data-test","Button","onClick","color","OnePackageDependencies","useQuery","queryKey","queryFn","fetch","makeNpmPackageUrl","then","response","json","enabled","data","isLoading","subdependencies","npmPackage","dependencies","Object","keys","length","map","getSubdependencies","CircularProgress","size","PackageDependencies","sectionTitle","Typography","component","gutterBottom","Homepage","App","queryClient","QueryClient","QueryClientProvider","client","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bfe3c6c1.chunk.js","sourcesContent":["import React, { createContext, useState } from 'react';\n\nconst PackageContext = createContext();\n\nfunction PackageContextProvider({ children }) {\n  const [name, setName] = useState('');\n\n  const packageContextValue = {\n    name,\n    setName,\n  };\n\n  return <PackageContext.Provider value={packageContextValue}>{children}</PackageContext.Provider>;\n}\n\nexport { PackageContext, PackageContextProvider };\n","import React, { useContext, useState } from 'react';\n\nimport { PackageContext } from '../context';\n\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\n\nfunction Search() {\n  const packageContext = useContext(PackageContext);\n  const [packageName, setPackageName] = useState('');\n\n  const handleChangeSearchField = event => {\n    setPackageName(event.target.value);\n  };\n\n  const handleSearch = event => {\n    event.preventDefault();\n    const trimmedPackageName = packageName.trim();\n    setPackageName(trimmedPackageName);\n    packageContext.setName(trimmedPackageName);\n  };\n\n  return (\n    <Paper elevation={3}>\n      <form noValidate className=\"search-form\" onSubmit={handleSearch}>\n        <TextField\n          label=\"NPM package\"\n          name=\"npmPackage\"\n          value={packageName}\n          onChange={handleChangeSearchField}\n          variant=\"outlined\"\n          margin=\"dense\"\n          className=\"search-field\"\n          data-test=\"search-field\"\n        />\n        <Button\n          onClick={handleSearch}\n          variant=\"contained\"\n          color=\"primary\"\n          data-test=\"search-button\"\n        >\n          Search\n        </Button>\n      </form>\n    </Paper>\n  );\n}\n\nexport default Search;\n","import React from 'react';\nimport { useQuery } from 'react-query';\n\nimport { makeNpmPackageUrl } from '../utils/urls';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst getSubdependencies = npmPackage => {\n  if (!npmPackage?.dependencies || Object.keys(npmPackage.dependencies).length === 0) {\n    return;\n  }\n\n  const subdependencies = Object.keys(npmPackage.dependencies).map(packageName => (\n    <OnePackageDependencies packageName={packageName} key={packageName} />\n  ));\n\n  return subdependencies;\n};\n\nfunction OnePackageDependencies({ packageName }) {\n  const { data, isLoading } = useQuery({\n    queryKey: packageName,\n    queryFn: () => fetch(makeNpmPackageUrl(packageName)).then(response => response.json()),\n    enabled: !!packageName,\n  });\n\n  const subdependencies = getSubdependencies(data);\n\n  return (\n    <li>\n      {data === 'Not Found' && 'Package not found: '}\n      {isLoading ? <CircularProgress size=\"0.8em\" /> : packageName}\n      {!!subdependencies && <ol>{subdependencies}</ol>}\n    </li>\n  );\n}\n\nexport default OnePackageDependencies;\n","export function makeNpmPackageUrl(packageName) {\n  return `/${packageName}/latest`;\n}\n","import React, { useContext } from 'react';\n\nimport { PackageContext } from '../context';\n\nimport OnePackageDependencies from './OnePackageDependencies';\n\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nfunction PackageDependencies() {\n  const packageContext = useContext(PackageContext);\n\n  const sectionTitle = !packageContext.name\n    ? '- Search a package to list its dependencies -'\n    : `Dependencies of: ${packageContext.name}`;\n\n  return (\n    <Paper elevation={3} className=\"package-dependencies\">\n      <Typography variant=\"h6\" component=\"h2\" gutterBottom data-test=\"package-dependencies-title\">\n        {sectionTitle}\n      </Typography>\n      {packageContext.name && (\n        <ol className=\"parent-npm-package\" data-test=\"package-dependencies-tree-view\">\n          <OnePackageDependencies packageName={packageContext.name} />\n        </ol>\n      )}\n    </Paper>\n  );\n}\n\nexport default PackageDependencies;\n","import React from 'react';\n\nimport { PackageContextProvider } from '../context';\n\nimport { Search, PackageDependencies } from '../components';\n\nimport Typography from '@material-ui/core/Typography';\n\nfunction Homepage() {\n  return (\n    <>\n      <Typography variant=\"h4\" component=\"h1\" gutterBottom data-test=\"homepage-title\">\n        NPM Package Dependencies\n      </Typography>\n      <Typography variant=\"subtitle1\" gutterBottom data-test=\"homepage-description\">\n        This application takes the name of an NPM package and lists its dependencies.\n      </Typography>\n      <PackageContextProvider>\n        <Search />\n        <PackageDependencies />\n      </PackageContextProvider>\n    </>\n  );\n}\n\nexport default Homepage;\n","import { QueryClient, QueryClientProvider } from 'react-query';\n\nimport './styles/global.css';\nimport './styles/components.css';\n\nimport { Homepage } from './pages';\n\nfunction App() {\n  const queryClient = new QueryClient();\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Homepage />\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}